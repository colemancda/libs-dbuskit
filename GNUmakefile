#
# GNUmakefile for DBusKit
#

include $(GNUSTEP_MAKEFILES)/common.make

# config.make will be generated by configure (see GNUmakefile.postamble)
-include config.make

DBusKit_SUBPROJECTS = Source

#
# Public headers (will be installed)
#
DBusKit_HEADER_FILES_DIR = Headers
DBusKit_HEADER_FILES = \
		  DBusKit.h \
		  DKPort.h \
                  DKProxy.h

#
# Makefiles
#
-include GNUmakefile.preamble
include $(GNUSTEP_MAKEFILES)/aggregate.make

ifeq ($(test), yes)
# Bundle
BUNDLE_NAME = DBusKit
include $(GNUSTEP_MAKEFILES)/bundle.make
DBusKit_LDFLAGS += -lUnitKit 

all:: ${BUNDLE_NAME}
	ukrun ${BUNDLE_NAME}.bundle
else
# Framework
FRAMEWORK_NAME = DBusKit
VERSION = 0.1
include $(GNUSTEP_MAKEFILES)/framework.make
endif

-include GNUmakefile.postamble
